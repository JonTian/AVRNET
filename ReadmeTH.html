<html>
<head>
<title>AVRnet V0.9 by avrportal.com</title>
<meta http-equiv="Content-Type" content="text/html; charset=tis-620" />
</head>
<body>
<font color=blue><b>AVRnet V1.1 by <a href="http://www.avrportal.com/">avrportal.com</a></b></font><br>
มีอะไรใหม่ใน V1.1?<br>
- เพิ่ม bootloader สำหรับอัพเกรด frimware ผ่านโปรโตคอล UDP  การเข้าสู่ bootloader สามารถกระทำได้โดยทำการ เปลี่ยน reset vector 
(ใน FUSE) จาก 0x0000 ให้ชี้ไปที่ bootloader 0x3800 เมื่อกดปุ่มรีเซ็ตหรือสั่งอัพเกรด firmware ผ่านโปรแกรม AVRnet CPanel 
โปรแกรม bootloader จะเริ่มทำงาน LED2 บนบอร์ด AVRnet จะกระพริบ ประมาณ 5 วินาที
เพื่อรอคำสั่งที่จะเข้าสู่ bootloader ถ้าไม่มีคำสั่งในช่วง 5 วินาที โปรแกรมจะตรวจสอบว่า address 128 bytes แรก (0x0000-0x0040) 
มีการโปรแกรม hex code ไปหรือยัง ถ้ายังไม่มีการโปรแกรม hex code ลงไป ก็จะเข้าสู่ bootloader ทันที แต่ถ้ามีการโปรแกรม hex code 
ไปแล้ว จะกระโดดไปทำงานใน address 0x0000 แทน<br>
*** ต้องตั้งค่า boot flash section size เป็น 2048-words และ เปลี่ยน reset vector ไปที่ bootloader
<hr align="left" width="700" size="5"><br>
<font color=blue><b>AVRnet V1.0 by <a href="http://www.avrportal.com/">avrportal.com</a></b></font><br>
ฮาร์ดแวร์ใช้ฮาร์ดแวร์เดิมจาก V0.9<br>
มีอะไรใหม่ใน V1.0?<br>
- เพิ่มโปรโตคอล UDP (User Datagram Protocol)<br>
- มีโปรแกรม <b>AVRnet CPannel</b> สำหรับใช้ติดต่อบอร์ด AVRnet ผ่านโปรโตคอล UDP โปรแกรม <b>AVRnet CPannel</b> เขียนขึ้นมาโดยใช้ CodeBlocks C++ IDE ร่วมกับ wxWidgets GUI tool kits และใช้ MinGW GCC compiler <br><br>

สำหรับวิธีการติดตั้ง CodeBlocks, wxWidgets, MinGW สามารถดูเพิ่มเติมจากหัวข้อ <a href="http://www.avrportal.com/forum/index.php/topic,22.0.html">การติดตั้ง CodeBlocks free C++ IDE, wxWidgets, MinGW</a> <br>
<br>

<img src="AVRnetCPannel.gif"><br>
<br>
<b><font color="#0000FF">ดาวน์โหลด</font></b><br>
<a href="http://www.avrportal.com/avrnet/avrnet-v1.0-20070625.7z">AVRnet V1.0 source code</a><br>
<a href="http://www.avrportal.com/avrnet/avrnet-cpannel-src.7z">AVRnet CPannel source code</a><br>
<a href="http://www.avrportal.com/avrnet/avrnet-cpannel-bin.7z">AVRnet CPannel binary</a><br>

<hr align="left" width="700" size="5">
<br>
<font color=blue><b>AVRnet V0.9 by <a href="http://www.avrportal.com/">avrportal.com</a></b></font><br>
<br>
AVRnet Firmware Version 0.9<br>
<br>
 AVRnet เป็นบอร์ดสำหรับพัฒนาและศึกษาการใช้ไมโครคอนโทรลเลอร์ ในการเชื่อมต่อกับ Ethernet protocol
ใช้ไมโครคอนโทรลเลอร์ตระกูล AVR ATMEGA32 เป็นตัวควบคุมหลัก ใช้ ENC28J60 เป็น Ethernet controller
และยังมี LCD สำหรับติดต่อกับผู้ใช้งาน สำหรับการตั้งค่าและแสดงสถานะต่างๆของบอร์ด<br>
     เราสามารถนำบอร์ด AVRnet ไปสร้างเป็น web-server ขนาดเล็กสำหรับควบคุมอุปกรณ์,เครื่องใช้ไฟฟ้าผ่านทาง Internet หรือระบบ LAN
ใน firmware v0.9 นี้ยังมีการนำบอร์ด AVRnet ไปทำเป็น web-client สำหรับการส่งค่าอุณหภูมิบนบอร์ดไปเก็บไว้ที่ web-server
โดยใช้ protocol http (สามารถนำไปใช้เป็น web data loger) โดยใน firmware v0.9 จะปิดการใช้งาน web-client ไว้เป็นค่าเริ่มต้น
แต่คุณสามารถเปิดการใช้งาน web-client ได้ที่เมนู Send temp config แต่เครื่องคอมพิวเตอร์ของคุณจะต้องติดตั้ง web-server และ server script ก่อน
สำหรับการติดตั้ง web-server และ server script สามารถเข้าไปดูได้ที่ <a href="http://www.avrportal.com">http://www.avrportal.com</a><br>
<br>
<hr align="left" width="600" size="1">
<br>
<font color=blue><b>Hardware feature</b></font><br>
<br>
- MCU : ATMEGA32 @ 16MHz<br>
- Ethernet controller : ENC28J60<br>
- RJ11 for LAN<br>
- LCD user interface menu<br>
- JTAG interface for program and debug<br>
- Temparature sensor using thermistor<br>
- 1 potentiometer for ADC0<br>
- I2C connector with pull-up resistor<br>
- Built-in Voltage regulator<br>
- LEDs display and switchs for LCD menu<br>
<br>
<hr align="left" width="600" size="1"><br>
<font color=blue><b>Firmware feature</b></font><br>
<br>
- Firmware is GPL using AVR GCC compiler<br>
- LCD user interface menu and borad status<br>
- Webserver listen on port 80 ( example page "webpage.htm" )<br>
- Webclient listen on port 1200 ( use for send temparature to webserver.)<br>
<br>
<hr align="left" width="600" size="1"><br>
<font color=blue><b>LCD user interface menu</b></font><br><br>
AVRnet มีสวิตซ์ที่ใช้สำหรับ LCD เมนู ดังนี้ Menu, Exit, Up, Dw การตั้งค่าต่างสามารถทำได้โดยเข้าไปที่เมนูการตั้งค่าของแต่ละเมนู.<br>
รายละเอียดของแต่ละเมนูมีดังนี้.<br>
<br>
Main menu<br>
<ul>
<li>AVR IP config (setup AVRnet IP address)</li>
<li>Server IP config (setup AVRnet IP address)</li>
<li>Send temp config (setup countdown timer for send temparature to webserver)</li>
<li>Ping server (check server status)</li>
</ul>

เมื่อตั้งค่าเสร็จแล้วสามารถออกจากเมนูโดยการกดปุ่ม Exit ค่าที่ตั้งไว้จะถูกบันทึกลง EEPROM ทันที่ สำหรับ V0.9 นี้ผมยังไม่ได้เขียนให้มีการยกเลิก 
การตั้งค่า ดังนั้นค่าที่เปลี่ยนแปลงไปจะถูกบันทึกลง EEPROM โดยไม่สามารถยกเลิกได้

ในโหมด standby LCD จะแสดงสถานะต่างๆของบอร์ด คุณสามารถเลื่อนดูสถานะต่างๆได้โดยการ กดปุ่ม Up หรือ Dw
ซึ่งสถานะต่างของบอร์ดจะมีดังนี้<br><br>
standby display mode<br>
<ul>
<li>AVR IP(show current AVR IP address)</li>
<li>Server IP (show current server IP address)</li>
<li>Send temp in (show countdown timer for send temp)</li>
<li>ADC0 &amp; Temp (show current ADC0 and temparature)</li>
</ul>
<hr align="left" width="600" size="1">
</body>
</html>